---
description: Rustコードを実装する開発作業

---

# rust 固有のルール

## 実装時の注意点

- 新しい機能を追加する際は、対応するテストも同時作成
- テストファイルは `#[cfg(test)]` モジュールまたは `tests/` ディレクトリを使用
- エラーハンドリング（`Result<T, E>`）も含めてテストケースを作成
- 非同期処理は `#[tokio::test]` を使用してテスト

## 型システムの活用

- `serde` による設定ファイルの型安全なデシリアライゼーション
- `async-trait` による非同期トレイトの実装
- `thiserror` による構造化されたエラー型定義
- オプション型（`Option<T>`）による明示的な Null 安全性

## パフォーマンス特徴

- **高速起動**: ネイティブバイナリによる瞬時起動（100ms 以内）
- **低メモリ**: 効率的なメモリ管理（10MB 以下）
- **並列処理**: 非同期 I/O による高速ファイル処理
- **ゼロコピー**: 不要な文字列コピーの回避

## 主要なクレート

- **clap**: CLI 構築フレームワーク（derive API 使用）
- **tokio**: 非同期ランタイム（full features）
- **serde + serde_yaml**: 設定ファイル処理
- **anyhow + thiserror**: エラーハンドリング
- **async-trait**: 非同期トレイト
- **path-clean**: パス正規化
- **glob**: パターンマッチング

## 開発用クレート

- **tokio-test**: 非同期テスト
- **tempfile**: テスト用一時ファイル
